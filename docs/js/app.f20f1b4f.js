(function(){"use strict";var t={2726:function(t,n,e){var r=e(7195),u=function(){var t=this,n=t._self._c;return n("div",{staticClass:"cart-form",attrs:{id:"app"}},[n("div",{staticClass:"cart-form__inputs"},[n("div",{staticClass:"cart-form__col"},[n("only-numbers-input",{staticClass:"cart-form__input",attrs:{value:t.currentPrice,placeholder:"Price"},on:{input:function(n){return t.onInputChangeDebounced("currentPrice",n)}}}),n("div",{staticClass:"value-title"},[t._v("Price:")]),n("div",[t._v(t._s(t.currentPrice))])],1),n("div",{staticClass:"cart-form__col"},[n("only-numbers-input",{staticClass:"cart-form__input",attrs:{value:t.currentQuantity,placeholder:"Quantity"},on:{input:function(n){return t.onInputChangeDebounced("currentQuantity",n)}}}),n("div",{staticClass:"value-title"},[t._v("Quantity:")]),n("div",[t._v(t._s(t.currentQuantity))])],1),n("div",{staticClass:"cart-form__col"},[n("only-numbers-input",{staticClass:"cart-form__input",attrs:{value:t.currentAmount,placeholder:"Amount"},on:{input:function(n){return t.onInputChangeDebounced("currentAmount",n)}}}),n("div",{staticClass:"value-title"},[t._v("Amount:")]),n("div",[t._v(t._s(t.currentAmount))])],1),n("div",{staticClass:"cart-form__col"},[n("button",{staticClass:"cart-form__btn",attrs:{disabled:t.formInProcess},on:{click:t.submit}},[t._v(" Send ")]),n("div",{staticClass:"value-title"},[t._v("Saved data:")]),n("div",{staticClass:"cart-form__code"},[t._v(t._s(t.savedDataJSON))])])]),n("div",{staticClass:"cart-form__log"},[n("span",{staticClass:"cart-form__log-title"},[t._v("Logs")]),t.log.length?n("div",t._l(t.log,(function(e,r){return n("p",{key:r+e.message,class:e.status?e.status:""},[t._v(" "+t._s(e.message)+" ")])})),0):n("p",{staticClass:"cart-form__log-placeholder"},[t._v("Events logging")])]),n("DescriptionInfo")],1)},i=[];function s(t){let n;return function(...e){clearTimeout(n),n=setTimeout(t.bind(this,...e),300)}}function a(t){return t.charAt(0).toUpperCase()+t.slice(1)}var c=e(408),o=function(){var t=this,n=t._self._c;return n("div",{staticClass:"info"},[n("button",{staticClass:"info__btn",on:{click:function(n){t.isOpen=!0}}},[t._v("i")]),t.isOpen?n("div",{staticClass:"info__modal"},[n("div",{staticClass:"info__modal-bg",on:{click:function(n){t.isOpen=!1}}}),t._m(0)]):t._e()])},l=[function(){var t=this,n=t._self._c;return n("div",{staticClass:"info__modal-body"},[n("p",[t._v("При первоначальном заполнении двух любых полей оставшееся пустое поле сразу просчитывается")]),n("p",[t._v("Далее действует стандартное правило - просчитывается то которое модифицировалось раньше всех")]),n("p",[t._v("Тупиковые значения (деление на ноль или рассчеты в которых присутсвуют пустые значения) не просчитываются")])])}],d={name:"DescriptionInfo",data(){return{isOpen:!1}},methods:{}},p=d,h=e(1001),f=(0,h.Z)(p,o,l,!1,null,null,null),m=f.exports,v=function(){var t=this,n=t._self._c;return n("input",{attrs:{type:"tel",placeholder:t.placeholder,disabled:t.disabled},domProps:{value:t.value},on:{keypress:t.preventNonDigits,input:t.onInput}})},g=[],_={props:{value:{type:[String,Number]},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""}},methods:{onInput(t){let n=t.target.selectionStart;const e=t.target.value;let r=e.replace(/[^\d.,]|^\./g,"").replace(/,/g,".").replace(/^0+(\d)/g,"$1").replace(/^0+\./g,"0."),u=r.match(/\./g);if(u&&u.length>1){const t=r.indexOf(".");r=r.replace(/\./g,""),r=`${r.slice(0,t)}.${r.slice(t)}`}t.target.value=r,t.target.setSelectionRange(n,n),this.$emit("input",r)},preventNonDigits(t){const n=new RegExp("[0-9,.]");n.test(t.key)||t.preventDefault()}}},y=_,C=(0,h.Z)(y,v,g,!1,null,null,null),O=C.exports,P={name:"App",data(){return{formInProcess:!1}},computed:{...(0,c.rn)(["currentPrice","currentQuantity","currentAmount","currentNonce","price","quantity","amount","nonce","log","inputsMutationOrder"]),earlierMutatedInput(){return this.inputsMutationOrder[2]},calculatingInput(){const t=this.inputsMutationOrder.filter((t=>null===this[t]));return 2===t.length?null:1===t.length?t[0]:this.earlierMutatedInput},savedDataJSON(){return JSON.stringify({nonce:this.nonce,price:this.price,quantity:this.quantity,amount:this.amount})},currentDataJSON(){return JSON.stringify({nonce:this.currentNonce,price:this.currentPrice,quantity:this.currentQuantity,amount:this.currentAmount})}},methods:{...(0,c.OI)(["setCurrentPrice","setCurrentQuantity","setCurrentAmount","setCurrentNonce","addLog","updateMutationOrder"]),...(0,c.nv)(["sendData"]),calcInputValue(){null!==this.calculatingInput&&this[`calc${a(this.calculatingInput)}`]()},calcCurrentPrice(){""!==this.currentAmount&&""!==this.currentQuantity&&0!==+this.currentQuantity&&this.setCurrentPrice(String(this.currentAmount/this.currentQuantity))},calcCurrentQuantity(){""!==this.currentAmount&&""!==this.currentPrice&&0!==+this.currentPrice&&this.setCurrentQuantity(String(this.currentAmount/this.currentPrice))},calcCurrentAmount(){""!==this.currentPrice&&""!==this.currentQuantity&&this.setCurrentAmount(String(this.currentPrice*this.currentQuantity))},submit(){this.addLog({message:`Send form data. Current saved data: ${this.savedDataJSON} Payload: ${this.currentDataJSON}`}),this.formInProcess=!0,this.sendData({nonce:this.currentNonce,price:this.currentPrice,quantity:this.currentQuantity,amount:this.currentAmount}).then((()=>{this.addLog({message:`Data saved successfully. New data: ${this.savedDataJSON}`,status:"success"})})).catch((()=>{this.addLog({message:"Error. Try later...",status:"error"})})).finally((()=>{this.formInProcess=!1}))}},created(){this.onInputChangeDebounced=s(((t,n)=>{this[`set${a(t)}`](n),this.updateMutationOrder(t),this.calcInputValue(),this.addLog({message:`Input ${t.replace("current","")} has changed`})}))},components:{DescriptionInfo:m,OnlyNumbersInput:O}},b=P,N=(0,h.Z)(b,u,i,!1,null,null,null),A=N.exports,I=e(6006),D={sendData(t){return new Promise(((n,e)=>{const r=!(t.amount%2),u={success:r,data:r?t:null};setTimeout((()=>{r?n(u):e(u)}),1e3)}))}};r.ZP.use(c.ZP);var Q=new c.ZP.Store({plugins:[(0,I.Z)()],state:{currentPrice:null,currentQuantity:null,currentAmount:null,currentNonce:0,price:null,quantity:null,amount:null,nonce:null,log:[],inputsMutationOrder:["currentPrice","currentQuantity","currentAmount"]},mutations:{setCurrentPrice(t,n){t.currentPrice=n},setCurrentQuantity(t,n){t.currentQuantity=n},setCurrentAmount(t,n){t.currentAmount=n},setCurrentNonce(t,n){t.currentNonce=n},setPrice(t,n){t.price=n},setQuantity(t,n){t.quantity=n},setAmount(t,n){t.amount=n},setNonce(t,n){t.nonce=n},addLog(t,{message:n,status:e}){t.log.unshift({message:n,status:e})},updateMutationOrder(t,n){t.inputsMutationOrder=t.inputsMutationOrder.filter((t=>t!==n)),t.inputsMutationOrder.unshift(n)}},actions:{sendData({commit:t,state:n},e){return D.sendData(e).then((({data:e})=>{t("setPrice",e.price),t("setQuantity",e.quantity),t("setAmount",e.amount),t("setNonce",e.nonce),t("setCurrentNonce",n.currentNonce+1)}))}}});r.ZP.config.productionTip=!1,new r.ZP({render:t=>t(A),store:Q}).$mount("#app")}},n={};function e(r){var u=n[r];if(void 0!==u)return u.exports;var i=n[r]={exports:{}};return t[r].call(i.exports,i,i.exports,e),i.exports}e.m=t,function(){var t=[];e.O=function(n,r,u,i){if(!r){var s=1/0;for(l=0;l<t.length;l++){r=t[l][0],u=t[l][1],i=t[l][2];for(var a=!0,c=0;c<r.length;c++)(!1&i||s>=i)&&Object.keys(e.O).every((function(t){return e.O[t](r[c])}))?r.splice(c--,1):(a=!1,i<s&&(s=i));if(a){t.splice(l--,1);var o=u();void 0!==o&&(n=o)}}return n}i=i||0;for(var l=t.length;l>0&&t[l-1][2]>i;l--)t[l]=t[l-1];t[l]=[r,u,i]}}(),function(){e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,{a:n}),n}}(),function(){e.d=function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}(),function(){var t={143:0};e.O.j=function(n){return 0===t[n]};var n=function(n,r){var u,i,s=r[0],a=r[1],c=r[2],o=0;if(s.some((function(n){return 0!==t[n]}))){for(u in a)e.o(a,u)&&(e.m[u]=a[u]);if(c)var l=c(e)}for(n&&n(r);o<s.length;o++)i=s[o],e.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return e.O(l)},r=self["webpackChunkch_test"]=self["webpackChunkch_test"]||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))}();var r=e.O(void 0,[998],(function(){return e(2726)}));r=e.O(r)})();
//# sourceMappingURL=app.f20f1b4f.js.map